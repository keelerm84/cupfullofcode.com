<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Negation and De Morgan&#39;s Law | Cup Full of Code</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
    <link rel="alternative" href="/atom.xml" title="Cup Full of Code" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">

    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <!--[if lte IE 8]><script src="css/ie/html5shiv.js"></script><![endif]-->
    <script src="/js/jquery.min.js" type="text/javascript"></script>

    <script src="/js/jquery.dropotron.min.js" type="text/javascript"></script>

    <script src="/js/skel.min.js" type="text/javascript"></script>

    <script src="/js/skel-layers.min.js" type="text/javascript"></script>

    <script src="/js/init.js" type="text/javascript"></script>

    <noscript>
        <link rel="stylesheet" href="/css/skel.css" type="text/css">

        <link rel="stylesheet" href="/css/style.css" type="text/css">

        <link rel="stylesheet" href="/css/style-desktop.css" type="text/css">

    </noscript>
    <!--[if lte IE 8]><link rel="stylesheet" href="css/ie/v8.css" /><![endif]-->
</head>

<body class="no-sidebar">
  <div id="container">
    <div id="wrap">
      <div id="header-wrapper" class="wrapper">
    <div id="header">

        <!-- Logo -->
        <div id="logo">
            <h1><a href="index.html">Cup Full of Code</a></h1>
            <p>The personal site of Matthew M. Keeler</p>
        </div>

        <!-- Nav -->
        <nav id="nav">
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/about">About</a></li>
                <li><a href="/portfolio">Portfolio</a></li>
                <li><a href="/resume">Resume</a></li>
                <li><a href="/archives">Blog</a></li>
            </ul>
        </nav>

    </div>
</div>

      <div class="outer">
        <section><div class="wrapper style2">
    <div class="section-title">
        <a href="/blog/2011/09/01/de-morgans-law/" class="article-date">
  <time datetime="2011-09-01T04:00:00.000Z" itemprop="datePublished">Sep 1 2011</time>
</a>
    </div>
    <div id="main" class="container">
        <article id="post-de-morgans-law" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
            
  
    <h1 class="article-title" itemprop="name">
      Negation and De Morgan&#39;s Law
    </h1>
  

        </header>
    
        <div class="article-entry" itemprop="articleBody">
            
                <p>Undoubtedly, your grade school grammar teacher has scolded you at one point or
another for your inadvertent use of a double negative.  Statements such as “I
don’t know nothing about physics”, while grammatically incorrect, are often
semantically inaccurate as well.  While the previous statement would commonly
be understood to mean the person posses no knowledge of physics, the actual
statement implies the opposite, that the preposition “I know nothing about
physics” is incorrect.  Certainly your teacher offered sound advice and one
would be wise to heed such instruction.<a id="more"></a></p>
<p>Unfortunately, when programming such double negation is quite common and often
leads to disastrous ends.  For example, who would qualify for the below
condition?</p>
<figure class="highlight php"><pre><div class="line"><span class="preprocessor">&lt;?php</span></div><div class="line"><span class="keyword">if</span>( !(<span class="variable">$student</span><span class="variable">-&gt;age</span> != <span class="number">18</span> &amp;&amp; !<span class="variable">$student</span><span class="variable">-&gt;enrolled</span>(<span class="string">'Physics'</span>)) ) { ... }</div></pre></figure>

<p>We want someone who is not both not 18 and not enrolled in physics. Simple,
right?</p>
<p>Granted, at the time this snippet was written, it might have been well
understood by the author.  But 6 months later when this line needs altered by a
different developer, precious time is wasted deciphering this twisted logic.</p>
<p>This is where <a href="http://en.wikipedia.org/wiki/De_Morgan" target="_blank" rel="external">De Morgan’s Laws</a> come in handy. From Wikipedia:</p>
<blockquote>
<p>“The negation of a conjunction is the disjunction of the negations.”<br>“The negation of a disjunction is the conjunction of the negations.“</p>
</blockquote>
<p>Great, so what does that mean? Basically, it means that if you have two
conditions — <code>p</code> and <code>q</code> — and you apply the negation to the statement <code>p and
q</code>, this is logically equivalent to <code>!p or !q</code>. Similarly, if we have the
statement <code>p or q</code> to which we apply the negation operation, this is logically
equivalent to <code>!p and !q</code>.</p>
<p>The easiest way to think about this mentally is that when we apply a negation
across a statement, we prepend each preposition ( either <code>p</code> or <code>q</code> ) with the
<code>not</code> operator, and every time we encounter the logical operators <code>and</code> or
<code>or</code>, we toggle them</p>
<p>Thus, <code>! ( ( p or q ) and ( r or s ) )</code> implies <code>( (!p and !q) or (!r and
!s))</code>.</p>
<p>Using De Morgan’s law, let’s simplify the logic of our initial if condition.</p>
<p>Let us assume the preposition <code>p</code> represents the condition where the student’s
age is 18 and <code>q</code> represents the condition where the student is enrolled in
physics. Given this, our initial condition can be written in a more compact
form as</p>
<figure class="highlight c"><pre><div class="line"><span class="keyword">if</span>( !(!p &amp;&amp; !q) ) {</div></pre></figure>

<p>After applying De Morgan’s Law, we have</p>
<figure class="highlight c"><pre><div class="line"><span class="keyword">if</span>( !!p || !!q ) {</div></pre></figure>

<p>The negation of the negation of <code>p</code> is <code>p</code>, so the above reduces to</p>
<figure class="highlight c"><pre><div class="line"><span class="keyword">if</span>( p || q ) {</div></pre></figure>

<p>Substituting <code>p</code> and <code>q</code> for the original conditions, we arrive at the greatly
simplified</p>
<figure class="highlight php"><pre><div class="line"><span class="preprocessor">&lt;?php</span></div><div class="line"><span class="keyword">if</span> ( <span class="variable">$student</span><span class="variable">-&gt;age</span> == <span class="number">18</span> || <span class="variable">$student</span><span class="variable">-&gt;enrolled</span>(<span class="string">'Physics'</span>) ) {</div></pre></figure>

<p>which is much more readily understood.</p>
<p>In order to convince you that the two statements are logically equivalent, a
<a href="http://en.wikipedia.org/wiki/Truth_table" target="_blank" rel="external">truth table</a> is provided below. Note
that the second to last column contains the results of the original condition,
and the last column is the reduced condition.</p>
<figure class="highlight text"><pre><div class="line">| p | <span class="string">q | !p |</span> !<span class="string">q | !p &amp;&amp; !q |</span> !(!p ^ !<span class="keyword">q</span>) | p v <span class="string">q |</span></div><div class="line">|---+---+----+----+----------+------------+-------|</div><div class="line">| <span class="number">1</span> | <span class="number">1</span> |  <span class="number">0</span> |  <span class="number">0</span> |        <span class="number">0</span> |          <span class="number">1</span> |     <span class="number">1</span> |</div><div class="line">| <span class="number">1</span> | <span class="number">0</span> |  <span class="number">0</span> |  <span class="number">1</span> |        <span class="number">0</span> |          <span class="number">1</span> |     <span class="number">1</span> |</div><div class="line">| <span class="number">0</span> | <span class="number">1</span> |  <span class="number">1</span> |  <span class="number">0</span> |        <span class="number">0</span> |          <span class="number">1</span> |     <span class="number">1</span> |</div><div class="line">| <span class="number">0</span> | <span class="number">0</span> |  <span class="number">1</span> |  <span class="number">1</span> |        <span class="number">1</span> |          <span class="number">0</span> |     <span class="number">0</span> |</div></pre></figure>

<p>As you can see, De Morgan’s Law is a powerful tool for managing conditional
complexity in code. I hope this hasn’t not helped.</p>

        
        </div>
    </div>
</article>

<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>


    </div>
</div>
</section>
      </div>
      <!-- Footer -->
<div id="footer-wrapper" class="wrapper">
    <div class="section-title">Links of interest</div>
    <div id="footer" class="container">
        <div class="row oneandhalf">
            <div class="12u">

                <section class="feature-list small">
                    <div class="row">
                        <div class="3u">
                            <section>
                                <h3 class="icon fa-envelope">Email</h3>
                                <p>
                                <a href="#">keelerm@tortugas-llc.com</a>
                                </p>
                            </section>
                            <section>
                                <h3 class="icon fa-rss">Subscribe</h3>
                                <p>
                                <a href="/atom.xml">Atom Feed</a>
                                </p>
                            </section>
                        </div>
                        <div class="3u">
                            <section>
                                <h3 class="icon fa-comment">Social</h3>
                                <p>
                                <a href="#">@keelerm84</a><br />
                                <a href="#">github.com/keelerm84</a><br />
                                <a href="#">youtube.com/user/keelerm84ify</a>
                                </p>
                            </section>
                        </div>
                        <div class="3u">
                            <section>
                                <h3 class="icon fa-tag">Tags</h3>
                                
  <div class="widget-wrap">
    <p>
    <a class="tag-link" href="/tags/automation/">automation</a>, <a class="tag-link" href="/tags/elisp/">elisp</a>, <a class="tag-link" href="/tags/emacs/">emacs</a>, <a class="tag-link" href="/tags/logic/">logic</a>, <a class="tag-link" href="/tags/org-mode/">org-mode</a>, <a class="tag-link" href="/tags/php/">php</a>, <a class="tag-link" href="/tags/projectile/">projectile</a>, <a class="tag-link" href="/tags/refactoring/">refactoring</a>, <a class="tag-link" href="/tags/screen/">screen</a>, <a class="tag-link" href="/tags/snippets/">snippets</a>, <a class="tag-link" href="/tags/utilities/">utilities</a>, <a class="tag-link" href="/tags/zsh/">zsh</a>
    </p>
  </div>


                            </section>
                        </div>
                        <div class="3u">
                            <section>
                                <h3 class="icon fa-folder-open">Categories</h3>
                                
    <p>
    <a class="category-link" href="/categories/Emacs/">Emacs</a>, <a class="category-link" href="/categories/Emacs/PHP/">PHP</a>, <a class="category-link" href="/categories/Programming/">Programming</a>, <a class="category-link" href="/categories/Utilities/">Utilities</a>
    </p>


                            </section>
                        </div>
                    </div>
                </section>
            </div>
        </div>
        <hr />
        <header class="style1">
            <h2>There is no system but GNU, and Linux is one of its kernels.</h2>
            <p>&mdash; St. IGNUcius</p>
        </header>
    </div>
</div>

    </div>
    
<script>
  var disqus_shortname = 'cupfullofcode';
  
  var disqus_url = 'http://cupfullofcode.com/blog/2011/09/01/de-morgans-law/';
  
  (function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-55725869-1', 'auto');
  ga('send', 'pageview');

</script>
  </div>
</body>
</html>
